- name: Is DBUS available?
  ansible.builtin.stat:
    path: /run/dbus/system-bus-socket
  register: dbus_socket
  failed_when: false
  become: true

- name: Issue the firewall-cmd call
  ansible.builtin.command:
    argv:
      - firewall-cmd
      - "--reload"
  changed_when: true
  when: dbus_socket.stat is defined and dbus_socket.stat.exists
  become: true
